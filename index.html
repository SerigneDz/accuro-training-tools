<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accuro Patient Journey - Interactive Training</title>
    
    <!-- React & ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        #root {
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Lucide React icons as SVG components
        const ChevronRight = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        );
        
        const Check = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        );

        function PatientJourneyVisual() {
            const [activeStep, setActiveStep] = useState(0);
            const [completedSteps, setCompletedSteps] = useState([]);
            const [showDetails, setShowDetails] = useState(null);

            const journey = [
                {
                    id: 1,
                    phase: "First Contact",
                    title: "Initial Phone Call",
                    icon: "üìû",
                    color: "from-emerald-500 to-teal-600",
                    tasks: [
                        { action: "Answer phone professionally", accuroStep: "N/A - Phone etiquette", time: "30 sec" },
                        { action: "Gather basic patient info", accuroStep: "Listen and note: Name, DOB, Contact info", time: "2 min" },
                        { action: "Determine visit type needed", accuroStep: "Identify: New patient vs Follow-up vs Urgent", time: "1 min" }
                    ],
                    outcome: "Patient info collected, visit type determined",
                    nextAction: "Register in Accuro"
                },
                {
                    id: 2,
                    phase: "Registration",
                    title: "Create Patient Record",
                    icon: "üë§",
                    color: "from-blue-500 to-indigo-600",
                    tasks: [
                        { action: "Open Accuro", accuroStep: "Patient ‚Üí New Patient (Ctrl+N)", time: "10 sec" },
                        { action: "Enter demographics", accuroStep: "Fill: Name, DOB, Sex, Health Card #", time: "2 min" },
                        { action: "Add contact info", accuroStep: "Enter: Phone, Email, Address", time: "1 min" },
                        { action: "Add emergency contact", accuroStep: "Emergency Contact section", time: "1 min" },
                        { action: "Assign to provider", accuroStep: "Select Family Physician", time: "30 sec" },
                        { action: "Save record", accuroStep: "Click Save (Ctrl+S)", time: "5 sec" }
                    ],
                    outcome: "Patient registered in system with chart number",
                    nextAction: "Book appointment"
                },
                {
                    id: 3,
                    phase: "Scheduling",
                    title: "Book Appointment",
                    icon: "üìÖ",
                    color: "from-purple-500 to-pink-600",
                    tasks: [
                        { action: "Open scheduler", accuroStep: "Click Scheduler (Ctrl+Shift+S)", time: "10 sec" },
                        { action: "Find appropriate time slot", accuroStep: "Navigate to requested date/time", time: "30 sec" },
                        { action: "Create appointment", accuroStep: "Right-click slot ‚Üí New Appointment", time: "10 sec" },
                        { action: "Search patient", accuroStep: "Type patient name, select from list", time: "20 sec" },
                        { action: "Set appointment details", accuroStep: "Type: New Patient, Duration: 45 min", time: "30 sec" },
                        { action: "Add appointment notes", accuroStep: "Add notes: 'Bring health history, medications'", time: "1 min" },
                        { action: "Confirm booking", accuroStep: "Save appointment", time: "5 sec" }
                    ],
                    outcome: "Appointment booked and confirmed",
                    nextAction: "Prepare for visit"
                },
                {
                    id: 4,
                    phase: "Visit Preparation",
                    title: "Day of Visit Setup",
                    icon: "üìã",
                    color: "from-amber-500 to-orange-600",
                    tasks: [
                        { action: "Print Day Sheet", accuroStep: "Reports ‚Üí Day Sheet ‚Üí Print", time: "2 min" },
                        { action: "Pull patient chart", accuroStep: "Search patient (Ctrl+F) ‚Üí Open chart", time: "30 sec" },
                        { action: "Review appointment reason", accuroStep: "Check appointment notes", time: "1 min" },
                        { action: "Prepare new patient forms", accuroStep: "Forms ‚Üí New Patient Package ‚Üí Print", time: "2 min" },
                        { action: "Set up exam room", accuroStep: "N/A - Physical preparation", time: "3 min" }
                    ],
                    outcome: "Clinic ready for patient arrival",
                    nextAction: "Check in patient"
                },
                {
                    id: 5,
                    phase: "Patient Arrival",
                    title: "Check-In Process",
                    icon: "üè•",
                    color: "from-rose-500 to-red-600",
                    tasks: [
                        { action: "Greet patient warmly", accuroStep: "N/A - Customer service", time: "30 sec" },
                        { action: "Verify identity & health card", accuroStep: "Check ID, update if needed", time: "1 min" },
                        { action: "Collect forms", accuroStep: "Review completed forms for completion", time: "2 min" },
                        { action: "Update appointment status", accuroStep: "Right-click appointment ‚Üí Status: Arrived", time: "10 sec" },
                        { action: "Direct to waiting area", accuroStep: "N/A - Direct patient", time: "30 sec" }
                    ],
                    outcome: "Patient checked in and ready to be called",
                    nextAction: "Prepare for clinical encounter"
                },
                {
                    id: 6,
                    phase: "Clinical Documentation",
                    title: "Document the Visit",
                    icon: "üìù",
                    color: "from-cyan-500 to-blue-600",
                    tasks: [
                        { action: "Create new encounter", accuroStep: "Open chart ‚Üí New Encounter (Ctrl+E)", time: "20 sec" },
                        { action: "Record vitals", accuroStep: "Enter: BP, HR, Temp, Weight, Height", time: "3 min" },
                        { action: "Document chief complaint", accuroStep: "Subjective section: Patient's reason for visit", time: "2 min" },
                        { action: "Enter medical history", accuroStep: "Add Problems, Medications, Allergies", time: "10 min" },
                        { action: "Document physical exam", accuroStep: "Use template or free text", time: "5 min" },
                        { action: "Record assessment & plan", accuroStep: "Assessment: Diagnosis, Plan: Treatment", time: "5 min" },
                        { action: "Sign encounter", accuroStep: "Review ‚Üí Sign ‚Üí Lock", time: "1 min" }
                    ],
                    outcome: "Complete visit documentation signed and locked",
                    nextAction: "Process orders and prescriptions"
                },
                {
                    id: 7,
                    phase: "Orders & Prescriptions",
                    title: "Lab Work & Medications",
                    icon: "üß™",
                    color: "from-violet-500 to-purple-600",
                    tasks: [
                        { action: "Create lab requisition", accuroStep: "Labs ‚Üí New Requisition ‚Üí Select tests", time: "3 min" },
                        { action: "Add diagnosis codes", accuroStep: "Enter ICD codes for indication", time: "1 min" },
                        { action: "Print requisition", accuroStep: "Review ‚Üí Print for patient", time: "30 sec" },
                        { action: "Create prescriptions", accuroStep: "Rx ‚Üí New Prescription ‚Üí Select drug", time: "2 min" },
                        { action: "Send to pharmacy", accuroStep: "E-prescribe OR Print", time: "1 min" },
                        { action: "Update medication list", accuroStep: "Verify active medications updated", time: "1 min" }
                    ],
                    outcome: "All orders created and sent to appropriate locations",
                    nextAction: "Schedule follow-up"
                },
                {
                    id: 8,
                    phase: "Follow-Up Planning",
                    title: "Book Next Appointment",
                    icon: "üîÅ",
                    color: "from-fuchsia-500 to-pink-600",
                    tasks: [
                        { action: "Determine follow-up timing", accuroStep: "Check provider's plan notes", time: "30 sec" },
                        { action: "Open scheduler", accuroStep: "Scheduler (Ctrl+Shift+S)", time: "10 sec" },
                        { action: "Find appropriate slot", accuroStep: "Navigate to future date per plan", time: "30 sec" },
                        { action: "Book follow-up", accuroStep: "Create appointment, Type: Follow-up", time: "1 min" },
                        { action: "Set reminder", accuroStep: "Enable appointment reminder", time: "30 sec" },
                        { action: "Give appointment card", accuroStep: "Print/write appointment details for patient", time: "1 min" }
                    ],
                    outcome: "Follow-up scheduled and patient informed",
                    nextAction: "Complete billing"
                },
                {
                    id: 9,
                    phase: "Billing",
                    title: "Submit Claims",
                    icon: "üí≥",
                    color: "from-lime-500 to-green-600",
                    tasks: [
                        { action: "Access billing module", accuroStep: "Billing ‚Üí Claims", time: "10 sec" },
                        { action: "Select service code", accuroStep: "Choose appropriate billing code", time: "1 min" },
                        { action: "Add diagnosis codes", accuroStep: "Enter ICD codes", time: "30 sec" },
                        { action: "Review claim", accuroStep: "Verify patient, provider, codes, fee", time: "1 min" },
                        { action: "Submit claim", accuroStep: "Submit to provincial health plan", time: "30 sec" }
                    ],
                    outcome: "Claim submitted for payment",
                    nextAction: "Results management"
                },
                {
                    id: 10,
                    phase: "Results Management",
                    title: "Process Lab Results",
                    icon: "üî¨",
                    color: "from-teal-500 to-cyan-600",
                    tasks: [
                        { action: "Check results inbox", accuroStep: "Lab Results ‚Üí Pending/Unreviewed", time: "30 sec" },
                        { action: "Review each result", accuroStep: "Open result, check values vs ranges", time: "2 min" },
                        { action: "Flag abnormals", accuroStep: "Note abnormal values, assess urgency", time: "1 min" },
                        { action: "Document review", accuroStep: "Mark as Reviewed, add provider comments", time: "1 min" },
                        { action: "Create follow-up plan", accuroStep: "Create task/phone encounter if needed", time: "2 min" },
                        { action: "Contact patient", accuroStep: "Phone call or message with results", time: "5 min" },
                        { action: "Schedule recheck if needed", accuroStep: "Book appointment, order repeat labs", time: "3 min" }
                    ],
                    outcome: "Results reviewed, patient notified, follow-up planned",
                    nextAction: "Ongoing care and monitoring"
                },
                {
                    id: 11,
                    phase: "Ongoing Care",
                    title: "Preventive Care & Monitoring",
                    icon: "‚ù§Ô∏è",
                    color: "from-pink-500 to-rose-600",
                    tasks: [
                        { action: "Review preventive care", accuroStep: "Chart ‚Üí Preventive Care section", time: "2 min" },
                        { action: "Check screening status", accuroStep: "Review: Mammography, PAP, Colonoscopy, etc.", time: "2 min" },
                        { action: "Set up reminders", accuroStep: "Create ticklers for due screenings", time: "2 min" },
                        { action: "Track referrals", accuroStep: "Monitor pending referrals for responses", time: "1 min" },
                        { action: "Manage chronic conditions", accuroStep: "Review problem list, medication compliance", time: "3 min" },
                        { action: "Generate recall lists", accuroStep: "Reports ‚Üí Overdue preventive care", time: "2 min" }
                    ],
                    outcome: "Comprehensive ongoing care plan maintained",
                    nextAction: "Continue patient relationship"
                }
            ];

            const handleStepClick = (index) => {
                setActiveStep(index);
                setShowDetails(index);
            };

            const markComplete = (index) => {
                if (!completedSteps.includes(index)) {
                    setCompletedSteps([...completedSteps, index]);
                }
                if (index < journey.length - 1) {
                    setActiveStep(index + 1);
                    setShowDetails(index + 1);
                }
            };

            const resetJourney = () => {
                setActiveStep(0);
                setCompletedSteps([]);
                setShowDetails(null);
            };

            const calculateProgress = () => {
                return Math.round((completedSteps.length / journey.length) * 100);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4 md:p-8">
                    {/* Header */}
                    <div className="max-w-7xl mx-auto mb-8">
                        <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8 border-4 border-indigo-600">
                            <h1 className="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 mb-3">
                                Sarah's Patient Journey
                            </h1>
                            <p className="text-xl text-slate-600 mb-4">
                                Interactive Accuro EMR Training Guide
                            </p>
                            <div className="flex items-center gap-4 flex-wrap">
                                <div className="flex-1 min-w-[200px]">
                                    <div className="flex justify-between text-sm font-semibold text-slate-700 mb-2">
                                        <span>Progress</span>
                                        <span>{calculateProgress()}%</span>
                                    </div>
                                    <div className="h-4 bg-slate-200 rounded-full overflow-hidden">
                                        <div 
                                            className="h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500 ease-out"
                                            style={{ width: `${calculateProgress()}%` }}
                                        />
                                    </div>
                                </div>
                                <button
                                    onClick={resetJourney}
                                    className="px-6 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold rounded-lg transition-colors"
                                >
                                    Reset Journey
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Journey Timeline */}
                    <div className="max-w-7xl mx-auto">
                        <div className="grid gap-6 mb-8">
                            {journey.map((step, index) => {
                                const isCompleted = completedSteps.includes(index);
                                const isActive = activeStep === index;
                                const isExpanded = showDetails === index;
                                
                                return (
                                    <div key={step.id} className="relative">
                                        {/* Connection line to next step */}
                                        {index < journey.length - 1 && (
                                            <div className="absolute left-8 top-20 w-1 h-16 bg-gradient-to-b from-slate-300 to-slate-200 z-0" />
                                        )}
                                        
                                        <div
                                            onClick={() => handleStepClick(index)}
                                            className={`
                                                relative z-10 bg-white rounded-2xl shadow-lg transition-all duration-300 cursor-pointer
                                                ${isActive ? 'ring-4 ring-indigo-400 shadow-2xl scale-[1.02]' : 'hover:shadow-xl hover:scale-[1.01]'}
                                                ${isCompleted ? 'opacity-75' : ''}
                                            `}
                                        >
                                            {/* Step Header */}
                                            <div className="p-6">
                                                <div className="flex items-center gap-4">
                                                    {/* Step Number & Icon */}
                                                    <div className={`relative flex-shrink-0 w-16 h-16 rounded-xl flex items-center justify-center bg-gradient-to-br ${step.color} shadow-lg`}>
                                                        {isCompleted ? (
                                                            <Check className="w-8 h-8 text-white" strokeWidth={3} />
                                                        ) : (
                                                            <span className="text-3xl">{step.icon}</span>
                                                        )}
                                                        <div className="absolute -top-2 -right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center font-black text-sm text-slate-700 shadow-md border-2 border-slate-200">
                                                            {index + 1}
                                                        </div>
                                                    </div>

                                                    {/* Step Title */}
                                                    <div className="flex-1">
                                                        <div className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-1">
                                                            {step.phase}
                                                        </div>
                                                        <h3 className="text-2xl font-black text-slate-800">
                                                            {step.title}
                                                        </h3>
                                                    </div>

                                                    {/* Expand indicator */}
                                                    <div className={`transform transition-transform ${isExpanded ? 'rotate-90' : ''}`}>
                                                        <ChevronRight className="w-6 h-6 text-slate-400" />
                                                    </div>
                                                </div>
                                            </div>

                                            {/* Expanded Details */}
                                            {isExpanded && (
                                                <div className="border-t border-slate-200 p-6 bg-gradient-to-br from-slate-50 to-white">
                                                    {/* Tasks */}
                                                    <div className="mb-6">
                                                        <h4 className="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                                                            <span className={`w-2 h-2 rounded-full bg-gradient-to-r ${step.color}`} />
                                                            Tasks to Complete
                                                        </h4>
                                                        <div className="space-y-3">
                                                            {step.tasks.map((task, taskIndex) => (
                                                                <div 
                                                                    key={taskIndex}
                                                                    className="bg-white rounded-lg p-4 border-2 border-slate-200 hover:border-indigo-300 transition-colors"
                                                                >
                                                                    <div className="flex items-start gap-3">
                                                                        <div className="flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-xs font-bold text-indigo-700">
                                                                            {taskIndex + 1}
                                                                        </div>
                                                                        <div className="flex-1">
                                                                            <div className="font-bold text-slate-800 mb-1">
                                                                                {task.action}
                                                                            </div>
                                                                            <div className="text-sm font-mono bg-indigo-50 text-indigo-700 px-3 py-1 rounded inline-block mb-1">
                                                                                {task.accuroStep}
                                                                            </div>
                                                                            <div className="text-xs text-slate-500">
                                                                                ‚è±Ô∏è Est. time: {task.time}
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>

                                                    {/* Outcome & Next Action */}
                                                    <div className="grid md:grid-cols-2 gap-4 mb-6">
                                                        <div className="bg-green-50 border-2 border-green-200 rounded-lg p-4">
                                                            <div className="text-xs font-bold text-green-600 uppercase tracking-wider mb-2">
                                                                Expected Outcome
                                                            </div>
                                                            <div className="text-sm font-semibold text-green-800">
                                                                ‚úì {step.outcome}
                                                            </div>
                                                        </div>
                                                        <div className="bg-blue-50 border-2 border-blue-200 rounded-lg p-4">
                                                            <div className="text-xs font-bold text-blue-600 uppercase tracking-wider mb-2">
                                                                Next Action
                                                            </div>
                                                            <div className="text-sm font-semibold text-blue-800">
                                                                ‚Üí {step.nextAction}
                                                            </div>
                                                        </div>
                                                    </div>

                                                    {/* Mark Complete Button */}
                                                    <button
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            markComplete(index);
                                                        }}
                                                        disabled={isCompleted}
                                                        className={`
                                                            w-full py-4 rounded-xl font-bold text-lg transition-all transform
                                                            ${isCompleted 
                                                                ? 'bg-green-100 text-green-700 cursor-not-allowed' 
                                                                : `bg-gradient-to-r ${step.color} text-white hover:shadow-lg hover:scale-[1.02] active:scale-95`
                                                            }
                                                        `}
                                                    >
                                                        {isCompleted ? '‚úì Step Completed' : 'Mark as Complete'}
                                                    </button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Completion Message */}
                        {completedSteps.length === journey.length && (
                            <div className="bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl shadow-2xl p-8 text-center text-white">
                                <div className="text-6xl mb-4">üéâ</div>
                                <h2 className="text-4xl font-black mb-4">
                                    Congratulations!
                                </h2>
                                <p className="text-xl mb-6">
                                    You've completed Sarah's entire patient journey and learned all the essential Accuro EMR workflows!
                                </p>
                                <button
                                    onClick={resetJourney}
                                    className="bg-white text-green-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-green-50 transition-colors shadow-lg"
                                >
                                    Practice Again
                                </button>
                            </div>
                        )}
                    </div>

                    {/* Footer Tips */}
                    <div className="max-w-7xl mx-auto mt-8">
                        <div className="bg-indigo-900 rounded-2xl shadow-xl p-6 text-white">
                            <h3 className="text-xl font-bold mb-3 flex items-center gap-2">
                                <span className="text-2xl">üí°</span>
                                Pro Tips for Success
                            </h3>
                            <ul className="space-y-2 text-indigo-100">
                                <li className="flex items-start gap-2">
                                    <span className="text-yellow-400 font-bold">‚Üí</span>
                                    <span>Click each step to see detailed instructions and Accuro-specific navigation</span>
                                </li>
                                <li className="flex items-start gap-2">
                                    <span className="text-yellow-400 font-bold">‚Üí</span>
                                    <span>Practice each step in your Accuro training environment before marking complete</span>
                                </li>
                                <li className="flex items-start gap-2">
                                    <span className="text-yellow-400 font-bold">‚Üí</span>
                                    <span>Estimated times are guidelines - take the time you need to be accurate</span>
                                </li>
                                <li className="flex items-start gap-2">
                                    <span className="text-yellow-400 font-bold">‚Üí</span>
                                    <span>Bookmark this page and use it as a quick reference during your first weeks</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PatientJourneyVisual />);
    </script>
</body>
</html>
